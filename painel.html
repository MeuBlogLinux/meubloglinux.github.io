<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ADMIN - Danilo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    
    <style>
        body { background-color: #050505; color: #fff; border-top: 5px solid #00ff41; }
        input, textarea { background-color: #111 !important; border: 1px solid #333 !important; color: #fff !important; }
        input:focus, textarea:focus { border-color: #00ff41 !important; }
        
        button { background-color: #00ff41; color: #000; border: none; font-weight: bold; }
        button:hover { background-color: #00cc33; box-shadow: 0 0 15px #00ff41; }
    </style>
</head>
<body>
    <main class="container">
        <h1 style="color: #00ff41;">Painel de Controle ðŸ”’</h1>
        
        <label for="titulo">TÃ­tulo do Artigo</label>
        <input type="text" id="titulo" placeholder="Ex: Minecraft Otimizado">

        <label for="conteudo">ConteÃºdo (Aceita HTML)</label>
        <textarea id="conteudo" rows="10" placeholder="Escreva aqui... Pode usar <p>, <b>, etc."></textarea>

        <button onclick="postar()" id="btn-postar">PUBLICAR NO SITE ðŸš€</button>
        
        <p id="status" style="margin-top: 20px; text-align: center; opacity: 0; transition: opacity 0.5s;">...</p>
    </main>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDnkmZ7BMasKQQGnAQSTi3jxiuCbxyLU7M",
            authDomain: "meubloglinux.firebaseapp.com",
            projectId: "meubloglinux",
            storageBucket: "meubloglinux.firebasestorage.app",
            messagingSenderId: "262696388382",
            appId: "1:262696388382:web:d2784dc5dbba922cc8eb0f"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        function postar() {
            const titulo = document.getElementById('titulo').value;
            const conteudo = document.getElementById('conteudo').value;
            const btn = document.getElementById('btn-postar');
            const status = document.getElementById('status');

            if(!titulo || !conteudo) {
                alert("Preencha tudo, Danilo!");
                return;
            }

            btn.setAttribute('aria-busy', 'true'); // AnimaÃ§Ã£o de carregando

            // ENVIA PARA O FIREBASE
            db.collection("posts").add({
                titulo: titulo,
                conteudo: conteudo,
                data: Date.now() // Data de hoje automÃ¡tica
            })
            .then(() => {
                btn.setAttribute('aria-busy', 'false');
                status.innerText = "SUCESSO! Post enviado.";
                status.style.color = "#00ff41";
                status.style.opacity = "1";
                
                // Limpa os campos
                document.getElementById('titulo').value = "";
                document.getElementById('conteudo').value = "";
                
                setTimeout(() => { status.style.opacity = "0"; }, 3000);
            })
            .catch((error) => {
                btn.setAttribute('aria-busy', 'false');
                console.error("Erro: ", error);
                status.innerText = "ERRO: " + error.message;
                status.style.color = "red";
                status.style.opacity = "1";
            });
        }
    </script>
</body>
</html>
